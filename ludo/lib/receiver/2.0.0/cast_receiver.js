// Copyright Google Inc. All Rights Reserved.
(function(){'use strict';var g,h=this,k=function(a){return void 0!==a},aa=function(a){a=a.split(".");for(var b=h,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},m=function(a){return"string"==typeof a},ca=function(a){return"function"==ba(a)},da=function(a,b,c){return a.call.apply(a.bind,arguments)},ea=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=
Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ea;return n.apply(null,arguments)},fa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ga=Date.now||function(){return+new Date},p=function(a,b){var c=a.split("."),
d=h;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&k(b)?d[e]=b:d=d[e]?d[e]:d[e]={}},q=function(a,b){function c(){}c.prototype=b.prototype;a.p=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.ec=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return n.apply(null,c)}return n(this,a)};var s=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,s);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(s,Error);s.prototype.name="CustomError";var ha=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ia=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1},qa=function(a){if(!ja.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ka,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(la,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ma,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(na,"&quot;"));-1!=a.indexOf("'")&&(a=
a.replace(oa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(pa,"&#0;"));return a},ka=/&/g,la=/</g,ma=/>/g,na=/"/g,oa=/'/g,pa=/\x00/g,ja=/[\x00&<>"']/,ra=function(a,b){return a<b?-1:a>b?1:0};var sa=function(a,b){b.unshift(a);s.call(this,ha.apply(null,b));b.shift()};q(sa,s);sa.prototype.name="AssertionError";var t=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new sa(""+d,e||[]);}},ta=function(a,b){throw new sa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var ua=Array.prototype,va=ua.indexOf?function(a,b,c){t(null!=a.length);return ua.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var wa=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},xa=function(a){var b={},c;for(c in a)b[c]=a[c];return b},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),za=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ya.length;f++)c=ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var u;t:{var Aa=h.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){u=Ba;break t}}u=""}var w=function(a){return-1!=u.indexOf(a)};var Ca=w("Opera")||w("OPR"),x=w("Trident")||w("MSIE"),y=w("Gecko")&&-1==u.toLowerCase().indexOf("webkit")&&!(w("Trident")||w("MSIE")),Da=-1!=u.toLowerCase().indexOf("webkit"),Ea=function(){var a=h.document;return a?a.documentMode:void 0},Fa=function(){var a="",b;if(Ca&&h.opera)return a=h.opera.version,ca(a)?a():a;y?b=/rv\:([^\);]+)(\)|;)/:x?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Da&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(u))?a[1]:"");return x&&(b=Ea(),b>parseFloat(a))?String(b):a}(),Ga={},z=function(a){var b;
if(!(b=Ga[a])){b=0;for(var c=String(Fa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var l=c[f]||"",r=d[f]||"",v=/(\d*)(\D*)/g,jb=/(\d*)(\D*)/g;do{var S=v.exec(l)||["","",""],O=jb.exec(r)||["","",""];if(0==S[0].length&&0==O[0].length)break;b=ra(0==S[1].length?0:parseInt(S[1],10),0==O[1].length?0:parseInt(O[1],10))||ra(0==S[2].length,0==O[2].length)||ra(S[2],O[2])}while(0==b)}b=Ga[a]=0<=
b}return b},Ha=h.document,Ia=Ha&&x?Ea()||("CSS1Compat"==Ha.compatMode?parseInt(Fa,10):5):void 0;var Ka=function(a){var b;b||(b=Ja(a||arguments.callee.caller,[]));return b},Ja=function(a,b){var c=[];if(0<=va(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(La(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=La(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,
40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Ja(a.caller,b))}catch(l){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},La=function(a){if(Ma[a])return Ma[a];a=String(a);if(!Ma[a]){var b=/function ([^\(]+)/.exec(a);Ma[a]=b?b[1]:"[Anonymous]"}return Ma[a]},Ma={};var A=function(a,b,c,d,e){this.reset(a,b,c,d,e)};A.prototype.Da=null;A.prototype.Ca=null;var Na=0;A.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Na++;this.bb=d||ga();this.G=a;this.Wa=b;this.ab=c;delete this.Da;delete this.Ca};A.prototype.Ga=function(){return this.G};A.prototype.Ja=function(a){this.G=a};var B=function(a){this.fb=a;this.T=this.Ha=this.G=this.ka=null},C=function(a,b){this.name=a;this.value=b};C.prototype.toString=function(){return this.name};
var Oa=new C("SHOUT",1200),Pa=new C("SEVERE",1E3),Qa=new C("WARNING",900),Ra=new C("INFO",800),Sa=new C("CONFIG",700),Ta=new C("FINE",500),Ua=new C("FINER",400),Va=[new C("OFF",Infinity),Oa,Pa,Qa,Ra,Sa,Ta,Ua,new C("FINEST",300),new C("ALL",0)],D=null,Wa=function(a){if(!D){D={};for(var b=0,c;c=Va[b];b++)D[c.value]=c,D[c.name]=c}if(a in D)return D[a];for(b=0;b<Va.length;++b)if(c=Va[b],c.value<=a)return c;return null};B.prototype.getName=function(){return this.fb};B.prototype.getParent=function(){return this.ka};
B.prototype.Ja=function(a){this.G=a};B.prototype.Ga=function(){return this.G};var Xa=function(a){if(a.G)return a.G;if(a.ka)return Xa(a.ka);ta("Root logger has no level set.");return null};
B.prototype.log=function(a,b,c){if(a.value>=Xa(this).value)for(ca(b)&&(b=b()),a=this.hb(a,b,c,B.prototype.log),b="log:"+a.Wa,h.console&&(h.console.timeStamp?h.console.timeStamp(b):h.console.markTimeline&&h.console.markTimeline(b)),h.msWriteProfilerMark&&h.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.T)for(var e=0,f=void 0;f=c.T[e];e++)f(d);b=b.getParent()}};
B.prototype.hb=function(a,b,c,d){a=new A(a,String(b),this.fb);if(c){a.Da=c;var e;d=d||B.prototype.hb;try{var f;var l=aa("window.location.href");if(m(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:l,stack:"Not available"};else{var r,v;b=!1;try{r=c.lineNumber||c.dc||"Not available"}catch(jb){r="Not available",b=!0}try{v=c.fileName||c.filename||c.sourceURL||h.$googDebugFname||l}catch(S){v="Not available",b=!0}f=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:r,fileName:v,stack:c.stack||"Not available"}}e="Message: "+qa(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+qa(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+qa(Ka(d)+"-> ")}catch(O){e="Exception trying to expose exception! You win, we lose. "+O}a.Ca=e}return a};B.prototype.info=function(a,b){this.log(Ra,a,b)};
var Ya={},Za=null,$a=function(){Za||(Za=new B(""),Ya[""]=Za,Za.Ja(Sa))},E=function(a){$a();var b;if(!(b=Ya[a])){b=new B(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=E(a.substr(0,c));c.Ha||(c.Ha={});c.Ha[d]=b;b.ka=c;Ya[a]=b}return b};var ab=function(){};ab.prototype.ib=!1;ab.prototype.u=function(){this.ib||(this.ib=!0,this.d())};var cb=function(a,b){var c=fa(bb,b);a.Z||(a.Z=[]);a.Z.push(k(void 0)?n(c,void 0):c)};ab.prototype.d=function(){if(this.Z)for(;this.Z.length;)this.Z.shift()()};var bb=function(a){a&&"function"==typeof a.u&&a.u()};var F=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.H=!1;this.cb=!0};F.prototype.d=function(){};F.prototype.u=function(){};F.prototype.stopPropagation=function(){this.H=!0};F.prototype.preventDefault=function(){this.defaultPrevented=!0;this.cb=!1};var db=function(){this.jb=ga()},eb=new db;db.prototype.set=function(a){this.jb=a};db.prototype.reset=function(){this.set(ga())};db.prototype.get=function(){return this.jb};var fb=function(a){this.Ib=a||"";this.Jb=eb};g=fb.prototype;g.Xa=!0;g.Za=!0;g.Nb=!0;g.Mb=!0;g.$a=!1;g.Ob=!1;var G=function(a){return 10>a?"0"+a:String(a)},gb=function(a,b){var c=(a.bb-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},hb=function(a){fb.call(this,a)};q(hb,fb);var ib=function(){this.Ab=n(this.Rb,this);this.ia=new hb;this.ia.Za=!1;this.ia.$a=!1;this.Pa=this.ia.Xa=!1;this.Ya="";this.Hb={}};
ib.prototype.Rb=function(a){if(!this.Hb[a.ab]){var b;b=this.ia;var c=[];c.push(b.Ib," ");if(b.Za){var d=new Date(a.bb);c.push("[",G(d.getFullYear()-2E3)+G(d.getMonth()+1)+G(d.getDate())+" "+G(d.getHours())+":"+G(d.getMinutes())+":"+G(d.getSeconds())+"."+G(Math.floor(d.getMilliseconds()/10)),"] ")}b.Nb&&c.push("[",gb(a,b.Jb.get()),"s] ");b.Mb&&c.push("[",a.ab,"] ");b.Ob&&c.push("[",a.Ga().name,"] ");c.push(a.Wa);b.$a&&a.Da&&c.push("\n",a.Ca);b.Xa&&c.push("\n");b=c.join("");if(c=kb)switch(a.Ga()){case Oa:lb(c,
"info",b);break;case Pa:lb(c,"error",b);break;case Qa:lb(c,"warn",b);break;default:lb(c,"debug",b)}else this.Ya+=b}};var kb=h.console,lb=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var mb=function(a){mb[" "](a);return a};mb[" "]=function(){};var nb=!x||x&&9<=Ia,ob=x&&!z("9");!Da||z("528");y&&z("1.9b")||x&&z("8")||Ca&&z("9.5")||Da&&z("528");y&&!z("8")||x&&z("9");var H=function(a,b){F.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Y=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(y){var e;t:{try{mb(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Da||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Da||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.state=a.state;this.Y=a;a.defaultPrevented&&this.preventDefault()}};q(H,F);H.prototype.stopPropagation=function(){H.p.stopPropagation.call(this);this.Y.stopPropagation?this.Y.stopPropagation():this.Y.cancelBubble=!0};H.prototype.preventDefault=function(){H.p.preventDefault.call(this);var a=this.Y;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ob)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};H.prototype.d=function(){};var pb="closure_listenable_"+(1E6*Math.random()|0),qb=0;var rb=function(a,b,c,d,e){this.F=a;this.ja=null;this.src=b;this.type=c;this.fa=!!d;this.ha=e;this.key=++qb;this.N=this.ga=!1},sb=function(a){a.N=!0;a.F=null;a.ja=null;a.src=null;a.ha=null};var I=function(a){this.src=a;this.h={};this.X=0};I.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.h[f];a||(a=this.h[f]=[],this.X++);var l=tb(a,b,d,e);-1<l?(b=a[l],c||(b.ga=!1)):(b=new rb(b,this.src,f,!!d,e),b.ga=c,a.push(b));return b};I.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.h))return!1;var e=this.h[a];b=tb(e,b,c,d);return-1<b?(sb(e[b]),t(null!=e.length),ua.splice.call(e,b,1),0==e.length&&(delete this.h[a],this.X--),!0):!1};
var ub=function(a,b){var c=b.type;if(c in a.h){var d=a.h[c],e=va(d,b),f;if(f=0<=e)t(null!=d.length),ua.splice.call(d,e,1);f&&(sb(b),0==a.h[c].length&&(delete a.h[c],a.X--))}};I.prototype.Ia=function(a,b,c,d){a=this.h[a.toString()];var e=-1;a&&(e=tb(a,b,c,d));return-1<e?a[e]:null};var tb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.N&&f.F==b&&f.fa==!!c&&f.ha==d)return e}return-1};var vb="closure_lm_"+(1E6*Math.random()|0),wb={},xb=0,J=function(a,b,c,d,e){if("array"==ba(b))for(var f=0;f<b.length;f++)J(a,b[f],c,d,e);else if(c=yb(c),a&&a[pb])f=c,zb(a),a.n.add(String(b),f,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,l=Ab(a);l||(a[vb]=l=new I(a));d=l.add(b,c,!1,d,e);d.ja||(e=Bb(),d.ja=e,e.src=a,e.F=d,a.addEventListener?a.addEventListener(b.toString(),e,f):a.attachEvent(Cb(b.toString()),e),xb++)}},Bb=function(){var a=Db,b=nb?function(c){return a.call(b.src,b.F,
c)}:function(c){c=a.call(b.src,b.F,c);if(!c)return c};return b},K=function(a,b,c,d,e){if("array"==ba(b))for(var f=0;f<b.length;f++)K(a,b[f],c,d,e);else c=yb(c),a&&a[pb]?a.n.remove(String(b),c,d,e):a&&(a=Ab(a))&&(b=a.Ia(b,c,!!d,e))&&Eb(b)},Eb=function(a){if("number"!=typeof a&&a&&!a.N){var b=a.src;if(b&&b[pb])ub(b.n,a);else{var c=a.type,d=a.ja;b.removeEventListener?b.removeEventListener(c,d,a.fa):b.detachEvent&&b.detachEvent(Cb(c),d);xb--;(c=Ab(b))?(ub(c,a),0==c.X&&(c.src=null,b[vb]=null)):sb(a)}}},
Cb=function(a){return a in wb?wb[a]:wb[a]="on"+a},Gb=function(a,b,c,d){var e=1;if(a=Ab(a))if(b=a.h[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.fa==c&&!f.N&&(e&=!1!==Fb(f,d))}return Boolean(e)},Fb=function(a,b){var c=a.F,d=a.ha||a.src;a.ga&&Eb(a);return c.call(d,b)},Db=function(a,b){if(a.N)return!0;if(!nb){var c=b||aa("window.event"),d=new H(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(l){f=!0}if(f||void 0==
c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,r=c.length-1;!d.H&&0<=r;r--)d.currentTarget=c[r],e&=Gb(c[r],f,!0,d);for(r=0;!d.H&&r<c.length;r++)d.currentTarget=c[r],e&=Gb(c[r],f,!1,d)}return e}return Fb(a,new H(b,this))},Ab=function(a){a=a[vb];return a instanceof I?a:null},Hb="__closure_events_fn_"+(1E9*Math.random()>>>0),yb=function(a){t(a,"Listener can not be null.");if(ca(a))return a;t(a.handleEvent,"An object listener must have handleEvent method.");
return a[Hb]||(a[Hb]=function(b){return a.handleEvent(b)})};var L=function(){this.n=new I(this);this.Sb=this;this.Fa=null};q(L,ab);L.prototype[pb]=!0;L.prototype.addEventListener=function(a,b,c,d){J(this,a,b,c,d)};L.prototype.removeEventListener=function(a,b,c,d){K(this,a,b,c,d)};
L.prototype.dispatchEvent=function(a){zb(this);var b,c=this.Fa;if(c){b=[];for(var d=1;c;c=c.Fa)b.push(c),t(1E3>++d,"infinite loop")}c=this.Sb;d=a.type||a;if(m(a))a=new F(a,c);else if(a instanceof F)a.target=a.target||c;else{var e=a;a=new F(d,c);za(a,e)}var e=!0,f;if(b)for(var l=b.length-1;!a.H&&0<=l;l--)f=a.currentTarget=b[l],e=Ib(f,d,!0,a)&&e;a.H||(f=a.currentTarget=c,e=Ib(f,d,!0,a)&&e,a.H||(e=Ib(f,d,!1,a)&&e));if(b)for(l=0;!a.H&&l<b.length;l++)f=a.currentTarget=b[l],e=Ib(f,d,!1,a)&&e;return e};
L.prototype.d=function(){L.p.d.call(this);if(this.n){var a=this.n,b=0,c;for(c in a.h){for(var d=a.h[c],e=0;e<d.length;e++)++b,sb(d[e]);delete a.h[c];a.X--}}this.Fa=null};var Ib=function(a,b,c,d){b=a.n.h[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var l=b[f];if(l&&!l.N&&l.fa==c){var r=l.F,v=l.ha||l.src;l.ga&&ub(a.n,l);e=!1!==r.call(v,d)&&e}}return e&&!1!=d.cb};L.prototype.Ia=function(a,b,c,d){return this.n.Ia(String(a),b,c,d)};var zb=function(a){t(a.n,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var M=function(a,b){a&&a.log(Ua,b,void 0)},N=function(a,b){a&&a.log(Pa,b,void 0)},Jb=function(a,b){a&&a.log(Qa,b,void 0)},P=function(a,b){a&&a.info(b,void 0)},Kb=function(a,b){a&&a.log(Ta,b,void 0)};p("cast.receiver.VERSION","2.0.0");var Q=E("cast");p("cast.receiver.logger",Q);p("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:500,INFO:800,WARNING:900,ERROR:1E3,NONE:1500});Q.kb=function(a){Q&&Q.Ja(Wa(a))};Q.setLevelValue=Q.kb;Q&&Q.kb(1E3);var Lb=function(a,b,c){if(ca(a))c&&(a=n(a,c));else if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:h.setTimeout(a,b||0)};var R=function(a,b){L.call(this);this.Eb=k(a)?a:!0;this.ra=b||Mb;this.ea=this.ra(this.V)};q(R,L);g=R.prototype;g.j=null;g.t=null;g.K=void 0;g.ta=!1;g.V=0;var Nb=R.prototype,Ob=E("goog.net.WebSocket");Nb.a=Ob;var Mb=function(a){return Math.min(1E3*Math.pow(2,a),6E4)};g=R.prototype;
g.open=function(a,b){t(h.WebSocket,"This browser does not support WebSocket");t(!this.U(),"The WebSocket is already open");null!=this.J&&h.clearTimeout(this.J);this.J=null;this.t=a;(this.K=b)?(P(this.a,"Opening the WebSocket on "+this.t+" with protocol "+this.K),this.j=new WebSocket(this.t,this.K)):(P(this.a,"Opening the WebSocket on "+this.t),this.j=new WebSocket(this.t));this.j.onopen=n(this.Gb,this);this.j.onclose=n(this.Fb,this);this.j.onmessage=n(this.O,this);this.j.onerror=n(this.pa,this)};
g.close=function(){null!=this.J&&h.clearTimeout(this.J);this.J=null;this.j&&(P(this.a,"Closing the WebSocket."),this.ta=!0,this.j.close(),this.j=null)};g.send=function(a){t(this.U(),"Cannot send without an open socket");this.j.send(a)};g.U=function(){return!!this.j&&1==this.j.readyState};g.Gb=function(){P(this.a,"WebSocket opened on "+this.t);this.dispatchEvent("d");this.V=0;this.ea=this.ra(this.V)};
g.Fb=function(a){P(this.a,"The WebSocket on "+this.t+" closed.");this.dispatchEvent("a");this.j=null;this.ta?(P(this.a,"The WebSocket closed normally."),this.t=null,this.K=void 0):(N(this.a,"The WebSocket disconnected unexpectedly: "+a.data),this.Eb&&(P(this.a,"Seconds until next reconnect attempt: "+Math.floor(this.ea/1E3)),this.J=Lb(n(this.open,this,this.t,this.K),this.ea,this),this.V++,this.ea=this.ra(this.V)));this.ta=!1};g.O=function(a){this.dispatchEvent(new Pb(a.data))};
g.pa=function(a){a=a.data;N(this.a,"An error occurred: "+a);this.dispatchEvent(new Qb(a))};g.d=function(){R.p.d.call(this);this.close()};var Pb=function(a){F.call(this,"c");this.message=a};q(Pb,F);var Qb=function(a){F.call(this,"b");this.data=a};q(Qb,F);var T=function(a,b){L.call(this);this.C=b;this.ua=!0;this.M=a;this.onClose=this.onMessage=null;var c=this.M,d=this.C,e=this.Ea;zb(c);c.n.add(String(d),e,!1,!1,this)};q(T,L);p("cast.receiver.CastChannel",T);T.EventType={MESSAGE:"message",CLOSE:"close"};var Rb=function(a,b){F.call(this,a);this.message=b};q(Rb,F);T.Event=Rb;T.prototype.a=E("cast.receiver.CastChannel");T.prototype.s=function(){return"CastChannel["+this.C+" "+this.M.D()+"]"};T.prototype.D=function(){return this.M.D()};
T.prototype.getNamespace=T.prototype.D;T.prototype.Xb=function(){return this.C};T.prototype.getSenderId=T.prototype.Xb;T.prototype.Ea=function(a){M(this.a,"Dispatching CastChannel message ["+this.M.D()+", "+this.C+"]: "+a.data);a=new Rb("message",a.data);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};
T.prototype.close=function(){if(this.ua){this.ua=!1;P(this.a,"Closing CastChannel ["+this.M.D()+", "+this.C+"]");var a=new Rb("close",this.C);if(this.onClose)this.onClose(a);this.dispatchEvent(a);this.u()}};T.prototype.send=function(a){if(!this.ua)throw Error("Invalid state, socket not open");this.M.send(this.C,a)};T.prototype.send=T.prototype.send;T.prototype.d=function(){T.p.d.call(this);M(this.a,"Disposed "+this.s())};p("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:");p("cast.receiver.system.ApplicationData",function(){this.name=this.id="";this.sessionId=0;this.namespaces=[];this.launchingSenderId=""});p("cast.receiver.system.SystemVolumeData",function(){this.level=1;this.muted=!1});p("cast.receiver.system.Sender",function(){this.userAgent=this.id=""});var Sb=function(){L.call(this);this.k=null;var a=new R(!0);this.k&&this.k.u();this.k=a;cb(this,this.k);J(this.k,"d",this.Qb,!1,this);J(this.k,"a",this.Pb,!1,this);J(this.k,"b",this.pa,!1,this);J(this.k,"c",this.O,!1,this)};q(Sb,L);var Tb=function(a,b,c){F.call(this,a);this.senderId=b;this.data=c};q(Tb,F);Sb.prototype.a=E("cast.receiver.IpcChannel");var Ub=function(a,b){Kb(a.a,"IpcChannel "+b);a.dispatchEvent(new Tb("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};g=Sb.prototype;
g.Qb=function(){Ub(this,"opened")};g.Pb=function(){Ub(this,"closed")};g.pa=function(){Ub(this,"error")};g.O=function(a){Kb(this.a,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.dispatchEvent(new Tb(b,a.senderId,a.data)):N(this.a,"IpcChannel Message received is invalid")};g.open=function(){P(this.a,"Opening message bus websocket");this.k.open("ws://localhost:8008/v2/ipc")};g.close=function(){P(this.a,"Closing message bus websocket");this.k.close()};
g.U=function(){return this.k.U()};g.send=function(a,b,c){if(!this.U)throw Error("Underlying websocket is not open");a=JSON.stringify({namespace:a,senderId:b,data:c});Kb(this.a,"IPC message sent: "+a);this.k.send(a)};g.d=function(){Sb.p.d.call(this);M(this.a,"Disposed IpcChannel")};var U=function(a,b,c,d){L.call(this);this.w=a;this.B=b;this.W=d||"STRING";this.onMessage=null;this.serializeMessage=this.Lb;this.deserializeMessage=this.Kb;this.g={};for(a=0;a<c.length;a++)this.g[c[a]]=null;c=this.B;a=this.w;b=this.Ea;zb(c);c.n.add(String(a),b,!1,!1,this)};q(U,L);p("cast.receiver.CastMessageBus",U);U.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"};U.EventType={MESSAGE:"message"};var Vb=function(a,b,c){F.call(this,a);this.senderId=b;this.data=c};q(Vb,F);U.Event=Vb;
U.prototype.a=E("cast.receiver.CastMessageBus");U.prototype.s=function(){return"CastMessageBus["+this.w+"]"};U.prototype.D=function(){return this.w};U.prototype.getNamespace=U.prototype.D;U.prototype.gb=function(){return this.W};U.prototype.getMessageType=U.prototype.gb;
U.prototype.Ea=function(a){M(this.a,"Dispatching CastMessageBus message");var b="STRING"==this.W?a.data:this.deserializeMessage(a.data);this.dispatchEvent(new Vb(a.senderId,a.senderId,b));a=new Vb("message",a.senderId,b);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};U.prototype.send=function(a,b){if("STRING"==this.W){if(!m(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.B.send(this.w,a,b)}else this.B.send(this.w,a,this.serializeMessage(b))};U.prototype.send=U.prototype.send;
U.prototype.Ra=function(a){this.send("*:*",a)};U.prototype.broadcast=U.prototype.Ra;U.prototype.Ub=function(a){if(a in this.g)return this.g[a]||(this.g[a]=new T(this,a)),this.g[a];throw Error("Requested a socket for a disconnected sender: "+a);};U.prototype.getCastChannel=U.prototype.Ub;U.prototype.Lb=function(a){if("JSON"!=this.W)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(a)};
U.prototype.Kb=function(a){if("JSON"!=this.W)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)};U.prototype.d=function(){U.p.d.call(this);for(var a in this.g)this.g[a]&&this.g[a].close();this.g={};M(this.a,"Disposed "+this.s())};var V=function(){L.call(this);if(this.Sa=new ib){var a=this.Sa;if(!0!=a.Pa){$a();var b=Za,c=a.Ab;b.T||(b.T=[]);b.T.push(c);a.Pa=!0}}this.i=xa(Wb);this.R=!1;this.B=new Sb;this.q={};this.S=new U("urn:x-cast:com.google.cast.system",this.B,wa(this.q),"JSON");cb(this,this.S);this.Qa=this.I=!1;this.m={};this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=this.onShutdown=this.onReady=null;J(this.S,"SystemSender",this.Db,!1,this);J(window,"unload",this.Oa,
!1,this);P(this.a,"Version: 2.0.0.0008")};q(V,L);p("cast.receiver.CastReceiverManager",V);V.Ma=function(){return V.va?V.va:V.va=new V};V.getInstance=V.Ma;V.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged"};var W=function(a,b){F.call(this,a);this.data=b};q(W,F);V.Event=W;
p("cast.receiver.system.DisconnectReason",{REQUESTED_BY_SENDER:"requested_by_sender",ERROR:"error",UNKNOWN:"unknown"});var Xb=function(a,b,c){W.call(this,"senderdisconnected",a);this.senderId=a;this.userAgent=b;this.reason=c};q(Xb,W);V.SenderDisconnectedEvent=Xb;var Yb=function(a,b){W.call(this,"senderconnected",a);this.senderId=a;this.userAgent=b};q(Yb,W);V.SenderConnectedEvent=Yb;var Zb=function(a){W.call(this,"visibilitychanged",a);this.isVisible=a};q(Zb,W);V.VisibilityChangedEvent=Zb;
var $b=function(a){W.call(this,"systemvolumechanged",a);this.data=a};q($b,W);V.SystemVolumeChangedEvent=$b;var ac=function(a){W.call(this,"ready",a);this.data=a};q(ac,W);V.ReadyEvent=ac;var bc=function(){W.call(this,"shutdown",null)};q(bc,W);V.ShutdownEvent=bc;V.Config=function(){this.dialData=this.maxInactivity=this.statusText=void 0};var Wb={maxInactivity:10};V.prototype.a=E("cast.receiver.CastReceiverManager");V.prototype.s=function(){return"CastReceiverManager"};
V.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");za(this.i,a||{})}this.Qa=!0;this.B.open()};V.prototype.start=V.prototype.start;V.prototype.stop=function(){this.u();window.close()};V.prototype.stop=V.prototype.stop;V.prototype.Zb=function(){return this.I};V.prototype.isSystemReady=V.prototype.Zb;V.prototype.Yb=function(){return wa(this.q)};
V.prototype.getSenders=V.prototype.Yb;V.prototype.Wb=function(a){return this.q[a]?xa(this.q[a]):null};V.prototype.getSender=V.prototype.Wb;V.prototype.Tb=function(){return this.Ta};V.prototype.getApplicationData=V.prototype.Tb;V.prototype.$b=function(a){this.I?cc(this,a):this.i.statusText!=a&&(this.i.statusText=a,this.R=!0)};V.prototype.setApplicationState=V.prototype.$b;
V.prototype.bc=function(a,b){this.I?cc(this,a,b):(void 0!=a&&a!=this.i.statusText&&(this.i.statusText=a,this.R=!0),void 0!=b&&b!=this.i.dialData&&(this.i.dialData=b,this.R=!0))};V.prototype.setLegacyApplicationState=V.prototype.bc;var cc=function(a,b,c){var d={type:"setappstate"};void 0!=b&&(d.statusText=b);void 0!=c&&(d.dialData=c);a.S.send("SystemSender",d)};V.prototype.Ua=function(a){this.S.send("SystemSender",{type:"startheartbeat",maxInactivity:a})};V.prototype.setInactivityTimeout=V.prototype.Ua;
V.prototype.La=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.m[a]){if(this.Qa)throw Error("New namespaces can not be requested after start has been called");this.m[a]=new U(a,this.B,wa(this.q),b);cb(this,this.m[a])}if(b&&this.m[a].gb()!=b)throw Error("Invalid messageType for the namespace");return this.m[a]};V.prototype.getCastMessageBus=V.prototype.La;
V.prototype.Db=function(a){a=a.data;switch(a.type){case "opened":P(this.a,"Underlying message bus is open");var b=wa(this.m),c=this.i.statusText;a=this.i.dialData;var d={type:"ready"};c&&(d.statusText=c);a&&(d.dialData=a);d.activeNamespaces=b;d.version="2.0.0";d.messagesVersion="1.0";this.S.send("SystemSender",d);this.i.maxInactivity&&this.Ua(this.i.maxInactivity);break;case "closed":this.I=!1;this.dispatchEvent("shutdown");break;case "error":this.dispatchEvent("error");break;case "ready":this.Ta=
{id:a.applicationId,name:a.applicationName,sessionId:a.sessionId,namespaces:wa(this.m),launchingSenderId:a.launchingSenderId};this.I=!0;this.R&&(this.R=!1,cc(this,this.i.statusText,this.i.dialData));P(this.a,"Dispatching CastReceiverManager system ready event");b=new ac(this.Ta);if(this.onReady)this.onReady(b);this.dispatchEvent(b);break;case "senderconnected":b={id:a.senderId,userAgent:a.userAgent};P(this.a,"Dispatching CastReceiverManager sender connected event ["+b.id+"]");b.id in this.q&&N(this.a,
"Unexpected connected message for already connected sender: "+b.id);this.q[b.id]=b;a=new Yb(b.id,b.userAgent);for(c in this.m){var d=this.m[c],e=b.id;e in d.g?N(d.a,"Unexpected sender already registered ["+d.w+", "+e+"]"):(P(d.a,"Registering sender ["+d.w+", "+e+"]"),d.g[e]=null)}if(this.onSenderConnected)this.onSenderConnected(a);this.dispatchEvent(a);break;case "senderdisconnected":c=a.senderId;switch(a.reason){case "closed_by_peer":a="requested_by_sender";break;case "transport_invalid_message":a=
"error";break;default:a="unknown"}P(this.a,"Dispatching sender disconnected event ["+c+"] Reason: "+a);if(c in this.q){d=this.q[c].userAgent;delete this.q[c];a=new Xb(c,d,a);for(b in this.m)d=this.m[b],e=c,e in d.g&&(P(d.a,"Unregistering sender ["+d.w+", "+e+"]"),d.g[e]&&d.g[e].close(),delete d.g[e]);if(this.onSenderDisconnected)this.onSenderDisconnected(a);this.dispatchEvent(a)}else N(this.a,"Unknown sender disconnected: "+c);break;case "volumechanged":b={level:a.level,muted:a.muted};P(this.a,"Dispatching system volume changed event ["+
b.level+", "+b.muted+"]");b=new $b(b);if(this.onSystemVolumeChanged)this.onSystemVolumeChanged(b);this.dispatchEvent(b);break;case "visibilitychanged":b=a.visible;P(this.a,"Dispatching visibility changed event "+b);b=new Zb(b);if(this.onVisibilityChanged)this.onVisibilityChanged(b);this.dispatchEvent(b);break;default:throw Error("Unexpected message type: "+a.type);}};V.prototype.Oa=function(){P(this.a,"Dispatching shutdown event");this.I=!1;var a=new bc;if(this.onShutdown)this.onShutdown(a);this.dispatchEvent(a)};
V.prototype.d=function(){V.p.d.call(this);window&&K(window,"unload",this.Oa,!1,this);delete V.va;Kb(this.a,"Disposed "+this.s())};p("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media");p("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});p("cast.receiver.media.ErrorType",{INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"});p("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"});
p("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"});p("cast.receiver.media.SeekResumeState",{PLAYBACK_START:"PLAYBACK_START",PLAYBACK_PAUSE:"PLAYBACK_PAUSE"});p("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});var dc=function(){this.contentId="";this.streamType="NONE";this.contentType="";this.customData=this.tracks=this.duration=this.metadata=void 0};
p("cast.receiver.media.MediaInformation",dc);var ec=function(){this.muted=this.level=void 0};p("cast.receiver.media.Volume",ec);p("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0;this.media=void 0;this.playbackRate=1;this.playerState="IDLE";this.idleReason=void 0;this.supportedMediaCommands=this.currentTime=0;this.volume={level:0,muted:!1};this.activeTrackIds=null;this.customData=void 0});p("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8});
p("cast.receiver.media.TrackType",{TEXT:"TEXT",AUDIO:"AUDIO",VIDEO:"VIDEO"});p("cast.receiver.media.TextTrackType",{SUBTITLES:"SUBTITLES",CAPTIONS:"CAPTIONS",DESCRIPTIONS:"DESCRIPTIONS",CHAPTERS:"CHAPTERS",METADATA:"METADATA"});p("cast.receiver.media.TextTrackEdgeType",{NONE:"NONE",OUTLINE:"OUTLINE",DROP_SHADOW:"DROP_SHADOW",RAISED:"RAISED",DEPRESSED:"DEPRESSED"});p("cast.receiver.media.TextTrackWindowType",{NONE:"NONE",NORMAL:"NORMAL",ROUNDED_CORNERS:"ROUNDED_CORNERS"});
p("cast.receiver.media.TextTrackFontGenericFamily",{SANS_SERIF:"SANS_SERIF",MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF",SERIF:"SERIF",MONOSPACED_SERIF:"MONOSPACED_SERIF",CASUAL:"CASUAL",CURSIVE:"CURSIVE",SMALL_CAPITALS:"SMALL_CAPITALS"});p("cast.receiver.media.TextTrackFontStyle",{NORMAL:"NORMAL",BOLD:"BOLD",BOLD_ITALIC:"BOLD_ITALIC",ITALIC:"ITALIC"});
p("cast.receiver.media.Track",function(a,b){this.trackId=a;this.trackContentType=this.trackContentId=void 0;this.type=b;this.customData=this.subtype=this.language=this.name=void 0});p("cast.receiver.media.TextTrackStyle",function(){this.customData=this.fontStyle=this.fontGenericFamily=this.fontFamily=this.windowRoundedCornerRadius=this.windowColor=this.windowType=this.edgeColor=this.edgeType=this.backgroundColor=this.foregroundColor=this.fontScale=void 0});var fc=/#(.)(.)(.)(.)/,hc=function(a){if(!gc.test(a))throw Error("'"+a+"' is not a valid alpha hex color");5==a.length&&(a=a.replace(fc,"#$1$1$2$2$3$3$4$4"));a=a.toLowerCase();return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),parseInt(a.substr(7,2),16)/255]},gc=/^#(?:[0-9a-f]{4}){1,2}$/i,ic=function(a){var b=a.slice(0);b[3]=Math.round(1E3*a[3])/1E3;return"rgba("+b.join(",")+")"};!y&&!x||x&&x&&9<=Ia||y&&z("1.9.1");x&&z("9");var X=function(a,b,c,d){this.b=a;this.Aa=this.da=null;this.v=[];this.Ba=!1;this.za="cast-captions-"+Math.floor(1E6*Math.random()).toString();this.Bb="["+this.za+'="true"]::cue ';this.Cb=new RegExp(/^[\.'":%,;\s\-0-9a-z]+$/i);this.sa=!1;for(a=0;a<b.length;a++){var e=b[a].trackContentId;if("TEXT"===b[a].type&&e){var f=b[a].trackContentType;if(0==ia("vtt",e.substr(e.length-3,3))||void 0!=f&&0==ia(f,"text/vtt"))e=document.createElement("track"),e.src=b[a].trackContentId,e.id=b[a].trackId,e.label=b[a].name,
e.srclang=b[a].language,e.kind=(b[a].subtype||"").toLowerCase(),this.v.push(e),this.b.appendChild(e)}}0<this.v.length&&(jc(this),d&&kc(this,d),this.sa=!0,lc(this,c))};q(X,ab);X.prototype.a=E("cast.receiver.TextTracksManager");X.prototype.s=function(){return"TextTracksManager"};
var lc=function(a,b){if(a.sa)for(var c=0;c<a.v.length;c++){var d=a.v[c].track;0<=va(b,parseInt(a.v[c].id,10))?d.mode="showing":d.mode="disabled"}},mc=function(a){a.Aa&&(a.b.removeAttribute(a.za),document.head.removeChild(a.Aa),a.da=null)},nc=function(a){a.Ba&&(a.b.removeAttribute("crossorigin"),a.Ba=!1)},Y=function(a,b,c){!0===c||a.Cb.test(b)?a.da.insertRule(a.Bb+"{ "+b+" }",a.da.cssRules.length):Jb(a.a,"Invalid css cue: "+b)},jc=function(a){mc(a);nc(a);var b=document,c=b.createElement("style");c.type=
"text/css";b.getElementsByTagName("head")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText="":c.appendChild(b.createTextNode(""));a.Aa=c;a.da=document.styleSheets[document.styleSheets.length-1];Y(a,"font-size: 4.1vh;");Y(a,"font-family: monospace;");Y(a,"font-style: normal;");Y(a,"font-weight: normal;");Y(a,"background-color: black;");Y(a,"color: white;");a.b.setAttribute(a.za,!0);a.b.getAttribute("crossorigin")||(a.b.setAttribute("crossorigin","anonymous"),a.Ba=!0)},oc=function(a,b,c){var d;try{d=
ic(hc(b))}catch(e){Jb(a.a,"Invalid color: "+b)}if(d)switch(a="rgba(204, 204, 204, "+parseInt(b.substring(7,9),16)+")",c){case "OUTLINE":return"text-shadow: 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+";";case "DROP_SHADOW":return"text-shadow: 0px 2px 3px "+d+", 0px 2px 4px "+d+", 0px 2px 5px "+d+";";case "RAISED":return"text-shadow: 1px 1px "+d+", 2px 2px "+d+", 3px 3px "+d+";";case "DEPRESSED":return"text-shadow: 1px 1px "+a+", 0 1px "+a+", -1px -1px "+d+", 0 -1px "+d+";"}return""},
pc=function(a){switch(a){case "BOLD":return"font-weight: bold;";case "BOLD_ITALIC":return"font-style: italic; font-weight: bold;";case "ITALIC":return"font-style: italic;"}return"font-style: normal;"},kc=function(a,b){if(k(b.foregroundColor))try{var c=ic(hc(b.foregroundColor));Y(a,"color: "+c+";",!0)}catch(d){Jb(a.a,"Invalid color: "+b.foregroundColor)}if(k(b.backgroundColor))try{var e=ic(hc(b.backgroundColor));Y(a,"background-color: "+e+";",!0)}catch(f){Jb(a.a,"Invalid color: "+b.backgroundColor)}k(b.fontScale)&&
Y(a,"font-size: "+100*b.fontScale+"%;");if(k(b.fontFamily)||k(b.fontGenericFamily)){var c=b.fontFamily,e=b.fontGenericFamily,l="font-family: ",r="";k(c)&&(l+='"'+c+'"',r=", ");if(k(e)){var v;switch(e){case "SANS_SERIF":v='"Droid Sans", sans-serif';break;case "MONOSPACED_SANS_SERIF":v='"Droid Sans Mono", monospace';break;case "SERIF":v='"Droid Serif Regular", serif';break;case "MONOSPACED_SERIF":v="Cutive Mono";break;case "CASUAL":v='"Short Stack"';break;case "CURSIVE":v="Quintessential";break;case "SMALL_CAPITALS":v=
"Alegreya Sans SC"}l+=r+v}Y(a,l+";")}k(b.fontStyle)&&Y(a,pc(b.fontStyle));k(b.edgeType)&&(v=k(b.foregroundColor)?b.foregroundColor:"#FFFFFFFF",v=k(b.edgeColor)?oc(a,b.edgeColor,b.edgeType):oc(a,v,b.edgeType),Y(a,v,!0))};X.prototype.d=function(){X.p.d.call(this);for(var a=0;a<this.v.length;a++)this.b.removeChild(this.v[a]);this.v=[];mc(this);nc(this);M(this.a,"Disposed "+this.s())};var Z=function(a,b){L.call(this);this.ca=V.Ma().La("urn:x-cast:com.google.cast.media","JSON");this.ba=0;this.lb=1;this.mb=b||15;this.oa=this.na=this.A=this.$=this.e=this.b=this.c=null;this.o=!1;this.la=0;this.aa=this.r=this.P=this.f=null;this.ma=!1;this.customizedStatusCallback=this.nb;this.onLoad=this.tb;this.onPlay=this.wb;this.onSeek=this.xb;this.onPause=this.vb;this.onStop=this.zb;this.onSetVolume=this.yb;this.onEditTracksInfo=this.ob;this.onMetadataLoaded=this.ub;this.onLoadMetadataError=this.sb;
this.onEnded=this.pb;this.onError=this.qb;this.onGetStatus=this.rb;this.Na(a);this.ca.onMessage=this.O.bind(this);Lb(n(this.Ka,this),1E3)};q(Z,L);p("cast.receiver.MediaManager",Z);Z.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus",EDIT_TRACKS_INFO:"editTracksInfo"};var $=function(a,b,c){F.call(this,a);this.data=b;this.senderId=c};q($,F);Z.Event=$;var qc=function(){this.requestId=0;this.mediaSessionId=void 0;this.customData=null};
Z.RequestData=qc;var rc=function(){this.media=new dc;this.autoplay=!1;this.currentTime=0;this.activeTrackIds=void 0};q(rc,qc);Z.LoadRequestData=rc;var sc=function(){this.volume=new ec};q(sc,qc);Z.VolumeRequestData=sc;var tc=function(){this.textTrackStyle=this.activeTrackIds=void 0};q(tc,qc);Z.EditTracksInfoData=tc;var uc=function(){this.resumeState=void 0;this.currentTime=0};q(uc,qc);Z.SeekRequestData=uc;q($,F);Z.LoadInfo=function(a,b){this.message=a;this.senderId=b};Z.prototype.a=E("cast.receiver.MediaManager");
Z.prototype.s=function(){return"MediaManager"};Z.prototype.Vb=function(){return this.e};Z.prototype.getMediaInformation=Z.prototype.Vb;Z.prototype.cc=function(a,b,c){b=void 0==b||b;if(c&&!b)throw Error("No broadcast call but status customData has been provided");this.e=a;b&&this.l(!0,null,c)};Z.prototype.setMediaInformation=Z.prototype.cc;
var vc=function(a,b,c){if(!c||0===c.length)return!0;if(!b||c.length>b.length)return N(a.a,"Too many track IDs"),!1;for(var d=0,e=0,f=0;f<c.length;f++){for(var l=!1,r=0;r<b.length;r++)if(c[f]===b[r].trackId){l=!0;break}if(!l)return N(a.a,"Track ID does not exist: "+c[f]),!1;"AUDIO"===b[r].type?e++:"VIDEO"===b[r].type&&d++;if(1<e||1<d)return N(a.a,"Maximum one active video and one active audio track supported"),!1}return!0};
Z.prototype.O=function(a){var b=a.data;a=a.senderId;var c=b.type,d=b.requestId;if("number"==typeof d&&d==Math.floor(d)){var e=!1;void 0!=b.mediaSessionId&&b.mediaSessionId!=this.ba?(N(this.a,"Invalid media session ID: "+b.mediaSessionId+"  does not match the expected ID: "+this.ba),e=!0):"LOAD"!=c&&"GET_STATUS"!=c&&(void 0==b.mediaSessionId?(N(this.a,"Invalid media session ID, it is undefined"),e=!0):"IDLE"==wc(this)&&(N(this.a,"Unexpected command, player is in IDLE state so the media session ID is not valid yet"),
e=!0));if(e)this.Q(a,d,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID");else{M(this.a,"MediaManager message received");delete b.type;e=null;switch(c){case "LOAD":P(this.a,"Dispatching MediaManager load event");c=!1;if(b.media){if(e=b.media.tracks){i:{for(var e=b.media.tracks,f=0;f<e.length;f++)if(!k(e[f].trackId)||!k(e[f].type)){e=!1;break i}e=!0}e=!e}e?(N(this.a,"Invalid tracks information"),c=!0):b.activeTrackIds&&!vc(this,b.media.tracks,b.activeTrackIds)&&(c=!0)}else N(this.a,"Media is mandatory"),
c=!0;if(c)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{this.f?this.qa("LOAD_CANCELLED"):this.e&&this.L("INTERRUPTED");this.f={senderId:a,message:b};this.la=b.currentTime||0;b.media&&(this.e=b.media);b.activeTrackIds&&(this.aa=b.activeTrackIds);this.ba++;this.ma=void 0!=b.autoplay?b.autoplay:!0;b=new $("load",b,a);if(this.onLoad)this.onLoad(b);this.dispatchEvent(b);e=null}break;case "GET_STATUS":P(this.a,"Dispatching MediaManager getStatus event");b=new $("getstatus",b,a);if(this.onGetStatus)this.onGetStatus(b);
this.dispatchEvent(b);e=null;break;case "PLAY":P(this.a,"Dispatching MediaManager play event");b=new $("play",b,a);if(this.onPlay)this.onPlay(b);this.dispatchEvent(b);e=null;break;case "SEEK":if(void 0==b.currentTime)N(this.a,"currentTime is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{P(this.a,"Dispatching MediaManager seek event");b=new $("seek",b,a);if(this.onSeek)this.onSeek(b);this.dispatchEvent(b);e=null}break;case "STOP":P(this.a,"Dispatching MediaManager stop event");
b=new $("stop",b,a);if(this.onStop)this.onStop(b);this.dispatchEvent(b);e=null;break;case "PAUSE":P(this.a,"Dispatching MediaManager pause event");b=new $("pause",b,a);if(this.onPause)this.onPause(b);this.dispatchEvent(b);e=null;break;case "SET_VOLUME":if(!b.volume||void 0==b.volume.level&&void 0==b.volume.muted)N(this.a,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else if(void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level)N(this.a,"volume level is invalid"),e={type:"INVALID_REQUEST",
reason:"INVALID_PARAMS"};else{P(this.a,"Dispatching MediaManager setvolume event");b=new $("setvolume",b,a);if(this.onSetVolume)this.onSetVolume(b);this.dispatchEvent(b);e=null}break;case "EDIT_TRACKS_INFO":P(this.a,"Dispatching MediaManager ediTracksInfo event");if(vc(this,this.e.tracks,b.activeTrackIds)){c=new $("editTracksInfo",b,a);b.textTrackStyle&&(this.e.textTrackStyle=b.textTrackStyle);b.activeTrackIds&&(this.aa=b.activeTrackIds);if(this.onEditTracksInfo)this.onEditTracksInfo(c);this.dispatchEvent(c);
e=null}else N(this.a,"Invalid track IDs"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};break;default:N(this.a,"Unexpected message type: "+c),e={type:"INVALID_REQUEST",reason:"INVALID_COMMAND"}}e&&(N(this.a,"Sending error: "+e.type+" "+e.reason),this.Q(a,d,e.type,e.reason))}}else N(this.a,"Ignoring request, requestId is not an integer: "+d)};
var wc=function(a){if(!a.e)return"IDLE";if(a.c){var b=a.c.getState();return"PLAYING"==b&&a.o?"BUFFERING":b}return a.b.paused?a.b.duration&&(a.b.currentTime||0==a.b.currentTime)&&a.b.duration!=a.b.currentTime?a.b.currentTime==a.la&&a.ma?"BUFFERING":"PAUSED":"IDLE":a.o?"BUFFERING":"PLAYING"},xc=function(a,b,c){var d={type:"MEDIA_STATUS"};if(!a.e&&!a.$)return d.status=[],d;var e=a.c?a.c.getVolume():{level:a.b.volume,muted:a.b.muted},e={mediaSessionId:a.ba,playbackRate:a.lb,playerState:wc(a),currentTime:a.c?
a.c.getCurrentTimeSec():a.b.currentTime,supportedMediaCommands:a.mb,volume:e};a.aa&&(e.activeTrackIds=a.aa);b&&(e.media=a.e||a.$||void 0);a.e||(a.$=null);"IDLE"==e.playerState?a.P&&(e.idleReason=a.P):a.P=null;void 0!=c&&(e.customData=c);a.customizedStatusCallback?(a=a.customizedStatusCallback(e),null==a?d=null:d.status=[a]):d.status=[e];return d},yc=function(a){if(a.c){var b=a.c.getCurrentTimeSec();a.A=b;a.na=b;a.oa=Date.now()}else a.b&&(a.A=a.b.currentTime,a.na=a.b.currentTime,a.oa=Date.now())};
Z.prototype.Ka=function(){Lb(n(this.Ka,this),1E3);if("IDLE"!=wc(this)&&"PAUSED"!=wc(this)){var a=this.A;this.A=this.c?this.c.getCurrentTimeSec():this.b.currentTime;var b=this.o;this.o=100>1E3*(this.A-a);b!=this.o?(M(this.a,"Buffering state changed, isPlayerBuffering: "+this.o+" old time: "+a+" current time: "+this.A),this.l(!1)):!this.o&&(a=1E3*(this.A-this.na)-(Date.now()-this.oa),1E3<a||-1E3>a)&&(M(this.a,"Time drifted: "+a),this.l(!1))}};
Z.prototype.l=function(a,b,c){this.b||this.c?(M(this.a,"Sending broadcast status message"),a=xc(this,a,c),null!=a&&(a.requestId=b||0,this.ca.Ra(a),yc(this))):N(this.a,"Not sending broadcast status message, state is invalid")};Z.prototype.broadcastStatus=Z.prototype.l;Z.prototype.ac=function(a){M(this.a,"Setting IDLE reason: "+a);this.P=a};Z.prototype.setIdleReason=Z.prototype.ac;
Z.prototype.Q=function(a,b,c,d,e){P(this.a,"Sending error message to "+a);var f={};f.requestId=b;f.type=c;d&&(f.reason=d);e&&(f.customData=e);this.ca.send(a,f)};Z.prototype.sendError=Z.prototype.Q;Z.prototype.Va=function(a,b,c,d){this.b||this.c?(M(this.a,"Sending status message to "+a),c=xc(this,c,d),null!=c&&(c.requestId=b,this.ca.send(a,c),yc(this))):(N(this.a,"State is invalid"),this.Q(a,b,"INVALID_PLAYER_STATE",null,d))};Z.prototype.sendStatus=Z.prototype.Va;Z.prototype.nb=function(a){return a};
Z.prototype.tb=function(a){var b=a.data;this.c?b.media&&b.media.contentId&&this.c.load(b.media.contentId,!!b.autoplay,b.currentTime):(this.b.autoplay=!1,b.media&&a.data.media.contentId&&(this.b.src=b.media.contentId),this.b.autoplay=this.ma,b.media&&b.media.tracks&&(this.r&&this.r.u(),this.r=new X(this.b,b.media.tracks,b.activeTrackIds||[],b.media.textTrackStyle)),this.b.load())};
Z.prototype.Na=function(a){a.getState?(this.b&&(zc(this),this.b=null),this.c!=a&&(zc(this),this.c=a,Ac(this))):(this.c&&(zc(this),this.c=null),this.b!=a&&(zc(this),this.b=a,Ac(this)))};Z.prototype.setMediaElement=Z.prototype.Na;
var Ac=function(a){a.c?(a.c.registerErrorCallback(a.xa.bind(a)),a.c.registerEndedCallback(a.wa.bind(a)),a.c.registerLoadCallback(a.ya.bind(a))):(J(a.b,"loadedmetadata",a.ya,!1,a),J(a.b,"error",a.xa,!1,a),J(a.b,"ended",a.wa,!1,a))},zc=function(a){a.c?(a.c.unregisterErrorCallback(),a.c.unregisterEndedCallback(),a.c.unregisterLoadCallback()):(K(a.b,"loadedmetadata",a.ya,!1,a),K(a.b,"error",a.xa,!1,a),K(a.b,"ended",a.wa,!1,a))};
Z.prototype.ya=function(){if(this.f)if(P(this.a,"Metadata loaded"),this.e&&(this.e.duration=this.c?this.c.getDurationSec():this.b.duration),this.o=!0,this.onMetadataLoaded)this.onMetadataLoaded(this.f);else this.f=null};Z.prototype.ub=function(a){a.message.currentTime&&this.b&&(this.b.currentTime=a.message.currentTime);this.eb()};Z.prototype.xa=function(a){if(this.f)if(N(this.a,"Load metadata error"),this.onLoadMetadataError)this.onLoadMetadataError(this.f);else this.f=null;else if(this.onError)this.onError(a)};
Z.prototype.qa=function(a,b){this.f?(this.Q(this.f.senderId,this.f.message.requestId,a||"LOAD_FAILED",null,b),this.f=null):N(this.a,"Not sending LOAD error as there is no on going LOAD request")};Z.prototype.sendLoadError=Z.prototype.qa;Z.prototype.eb=function(a){this.f?(this.l(!0,this.f.message.requestId,a),this.f=null):N(this.a,"Not sending status as there is no on going LOAD request")};Z.prototype.sendLoadComplete=Z.prototype.eb;g=Z.prototype;g.qb=function(){this.L("ERROR")};
g.sb=function(){this.L("ERROR",!1);this.qa("LOAD_FAILED")};g.wa=function(){if(this.onEnded)this.onEnded()};g.pb=function(){this.L("FINISHED")};g.rb=function(a){M(this.a,"onGetStatus");this.Va(a.senderId,a.data.requestId,!0)};g.wb=function(a){M(this.a,"onPlay");this.c?this.c.play():this.b.play();this.l(!1,a.data.requestId)};
g.xb=function(a){a=a.data;M(this.a,"onSeek: "+JSON.stringify(a));this.c?(this.c.seek(a.currentTime,a.resumeState),"PAUSED"!=this.c.getState()&&(this.o=!0)):(this.b.currentTime=a.currentTime,"PLAYBACK_START"==a.resumeState&&this.b.paused?this.b.play():"PLAYBACK_PAUSE"!=a.resumeState||this.b.paused||this.b.pause(),this.b.paused||(this.o=!0));this.l(!1,a.requestId)};g.zb=function(a){this.L("CANCELLED",!0,a.data.requestId)};
g.L=function(a,b,c,d){b=void 0==b||b;if((d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.e?(this.c?this.c.reset():(P(this.a,"Resetting media element"),this.r&&(this.r.u(),this.r=null),this.b.removeAttribute("src"),this.la=0,this.b.load()),a&&(this.P=a),this.$=this.e,this.e=null,b&&this.l(!1,c,d)):P(this.a,"Nothing to reset, Media is already null")};Z.prototype.resetMediaElement=Z.prototype.L;
Z.prototype.vb=function(a){this.c?this.c.pause():this.b.pause();this.l(!1,a.data.requestId)};Z.prototype.yb=function(a){a=a.data;this.c?this.c.setVolume(a.volume):(void 0!=a.volume.level&&(this.b.volume=a.volume.level),void 0!=a.volume.muted&&(this.b.muted=a.volume.muted));this.l(!1,a.requestId)};Z.prototype.ob=function(a){a=a.data;var b=!1;if(!this.c&&this.r){if(a.textTrackStyle){var b=!0,c=this.r,d=a.textTrackStyle;c.sa&&(jc(c),kc(c,d))}a.activeTrackIds&&lc(this.r,a.activeTrackIds)}this.l(b,a.requestId)};
Z.prototype.d=function(){Z.p.d.call(this);M(this.a,"Disposed "+this.s())};}).call(window);
